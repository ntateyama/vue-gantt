(function(){"use strict";var e={9631:function(e,t,n){var o=n(9963),s=n(6252);function a(e,t,n,o,a,r){const l=(0,s.up)("DxTasks"),i=(0,s.up)("DxDependencies"),d=(0,s.up)("DxResources"),c=(0,s.up)("DxResourceAssignments"),u=(0,s.up)("DxItem"),g=(0,s.up)("DxToolbar"),p=(0,s.up)("DxEditing"),m=(0,s.up)("DxStripLine"),f=(0,s.up)("DxValidation"),h=(0,s.up)("DxColumn"),k=(0,s.up)("DxFilterRow"),D=(0,s.up)("DxGantt"),y=(0,s.up)("AppSettings");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(D,{ref:a.ganttRef,"task-list-width":500,height:700,"first-day-of-week":1,"scale-type":"weeks",hoverStateEnabled:!0,activeStateEnabled:!0,focusStateEnabled:!0,"show-row-lines":!0,onDependencyDeleted:r.onDependencyDeleted,onDependencyInserted:r.onDependencyInserted,onOnInitialized:r.onInitialized,onResourceAssigned:r.onResourceAssigned,onResourceDeleted:r.onResourceDeleted,onResourceInserted:r.onResourceInserted,onResourceUnassigned:r.onResourceUnassigned,onTaskDeleted:r.onTaskDeleted,onTaskInserted:r.onTaskInserted,onTaskInserting:r.onTaskInserting,onTaskUpdating:r.onTaskUpdating,onTaskUpdated:r.onTaskUpdated,onContentReady:r.onContentReady},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{"data-source":a.tasks},null,8,["data-source"]),(0,s.Wm)(i,{"data-source":a.dependencies},null,8,["data-source"]),(0,s.Wm)(d,{"data-source":a.resources},null,8,["data-source"]),(0,s.Wm)(c,{"data-source":a.resourceAssignments},null,8,["data-source"]),(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{name:"undo"}),(0,s.Wm)(u,{name:"redo"}),(0,s.Wm)(u,{name:"separator"}),(0,s.Wm)(u,{name:"collapseAll"}),(0,s.Wm)(u,{name:"expandAll"}),(0,s.Wm)(u,{name:"separator"}),(0,s.Wm)(u,{name:"addTask"}),(0,s.Wm)(u,{name:"deleteTask"}),(0,s.Wm)(u,{name:"resourceManager"}),(0,s.Wm)(u,{name:"taskDetails"}),(0,s.Wm)(u,{name:"separator"}),(0,s.Wm)(u,{name:"showResources"}),(0,s.Wm)(u,{name:"showDependencies"}),(0,s.Wm)(u,{name:"zoomIn"}),(0,s.Wm)(u,{name:"zoomOut"}),(0,s.Wm)(u,{options:a.settingsButtonOptions,"locate-in-menu":"always",widget:"dxButton"},null,8,["options"])])),_:1}),(0,s.Wm)(p,{enabled:!0}),(0,s.Wm)(m,{start:a.currentTime,title:"Current Time","css-class":"current-time"},null,8,["start"]),(0,s.Wm)(f,{"auto-update-parent-tasks":!0,"validate-dependencies":!0,"enable-predecessor-gap":!0}),(0,s.Wm)(h,{width:300,"data-field":"title",caption:"Subject"}),(0,s.Wm)(h,{"data-field":"start",caption:"Start Date"}),(0,s.Wm)(h,{"data-field":"end",caption:"End Date"}),(0,s.Wm)(h,{"data-field":"term",caption:"Term"}),(0,s.Wm)(k,{visible:!0})])),_:1},8,["onDependencyDeleted","onDependencyInserted","onOnInitialized","onResourceAssigned","onResourceDeleted","onResourceInserted","onResourceUnassigned","onTaskDeleted","onTaskInserted","onTaskInserting","onTaskUpdating","onTaskUpdated","onContentReady"]),(0,s.Wm)(y,{ref:"AppSettings"},null,512)],64)}var r=n(4646),l=n(4312),i=n(4624),d=n(9669),c=n.n(d);const u=c().create({headers:{"content-type":"text/plain"}});u.interceptors.response.use((e=>e.data.error?Promise.reject(e.data.error):Promise.resolve(e)),(e=>Promise.reject(e)));const g=e=>{u.defaults.baseURL=e};let p="";const m=e=>{p=e},f=()=>(console.log("fetch"),u.post("",{method:"GET",authToken:p})),h=(e,t)=>(console.log("addTask"),u.post("",{method:"PUT_TASK",authToken:p,params:{key:e,task:t}})),k=(e,t)=>(console.log("addDependecy"),u.post("",{method:"PUT_DEPENDENCY",authToken:p,params:{key:e,dependency:t}})),D=e=>(console.log("deleteTask"),u.post("",{method:"DEL_TASK",authToken:p,params:{key:e}})),y=e=>(console.log("deleteDependecy"),u.post("",{method:"DEL_DEPENDENCY",authToken:p,params:{key:e}})),v=e=>(console.log("deleteResource"),u.post("",{method:"DEL_RESOURCE",authToken:p,params:{key:e}})),T=e=>(console.log("deleteResourceAssignments"),u.post("",{method:"DEL_RESOURCEASSIGNMENTS",authToken:p,params:{key:e}})),w=e=>(console.log("updateTask"),console.log(e),u.post("",{method:"UPDATE_TASK",authToken:p,params:{task:e}})),b=(e,t)=>(console.log("addTask"),u.post("",{method:"PUT_RESOURCE",authToken:p,params:{key:e,resource:t}})),R=(e,t)=>(console.log("onResourceAssigned"),u.post("",{method:"RESOURCE_ASSIGNED",authToken:p,params:{key:e,resourceAssignment:t}}));var S={setUrl:g,setAuthToken:m,fetch:f,addTask:h,addDependeny:k,addResource:b,updateTask:w,deleteTask:D,deleteDependency:y,deleteResource:v,deleteResourceAssignments:T,onResourceAssigned:R},x=n(3907);const A=(0,s.Uk)("App Settings"),W=(0,s.Uk)(" Cancel "),U=(0,s.Uk)(" Save ");function Y(e,t,n,o,a,r){const l=(0,s.up)("v-card-title"),i=(0,s.up)("v-divider"),d=(0,s.up)("v-text-field"),c=(0,s.up)("v-form"),u=(0,s.up)("v-card-text"),g=(0,s.up)("v-spacer"),p=(0,s.up)("v-btn"),m=(0,s.up)("v-card-actions"),f=(0,s.up)("v-card"),h=(0,s.up)("v-dialog");return(0,s.wg)(),(0,s.j4)(h,{modelValue:a.show,"onUpdate:modelValue":t[4]||(t[4]=e=>a.show=e),scrollable:"",persistent:"","max-width":"1030px",eager:""},{default:(0,s.w5)((()=>[(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s.Wm)(l,null,{default:(0,s.w5)((()=>[A])),_:1}),(0,s.Wm)(i),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{ref:"form",modelValue:a.valid,"onUpdate:modelValue":t[3]||(t[3]=e=>a.valid=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{label:"API URL",modelValue:a.settings.apiUrl,"onUpdate:modelValue":t[0]||(t[0]=e=>a.settings.apiUrl=e),counter:120},null,8,["modelValue"]),(0,s.Wm)(d,{label:"Auth Token",modelValue:a.settings.authToken,"onUpdate:modelValue":t[1]||(t[1]=e=>a.settings.authToken=e),counter:120},null,8,["modelValue"]),(0,s.Wm)(d,{label:"Scale Type Range",modelValue:a.settings.scaleTypeRange,"onUpdate:modelValue":t[2]||(t[2]=e=>a.settings.scaleTypeRange=e),counter:50},null,8,["modelValue"])])),_:1},8,["modelValue"])])),_:1}),(0,s.Wm)(i),(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g),(0,s.Wm)(p,{color:"grey darken-1",text:"",disabled:a.loading,onClick:r.onClickClose},{default:(0,s.w5)((()=>[W])),_:1},8,["disabled","onClick"]),(0,s.Wm)(p,{color:"blue darken-1",text:"",disabled:!a.valid,loading:a.loading,onClick:r.onClickSave},{default:(0,s.w5)((()=>[U])),_:1},8,["disabled","loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}var E={name:"AppSettings",data(){return{show:!1,valid:!1,loading:!1,settings:{...this.$store.state.settings}}},methods:{open(){this.show=!0},onClickClose(){this.show=!1},onClickSave(){this.$store.dispatch({type:"saveSettingsAction",settings:this.settings}),this.show=!1}}},O=n(3744);const I=(0,O.Z)(E,[["render",Y]]);var C=I;const M="gantt";var _={name:"App",components:{DxGantt:r.DxGantt,DxTasks:r.DxTasks,DxDependencies:r.DxDependencies,DxResources:r.DxResources,DxResourceAssignments:r.DxResourceAssignments,DxColumn:r.DxColumn,DxEditing:r.DxEditing,DxValidation:r.DxValidation,DxToolbar:r.DxToolbar,DxItem:r.DxItem,DxFilterRow:r.DxFilterRow,DxStripLine:r.DxStripLine,AppSettings:C},data(){return{settingsButtonOptions:{text:"Settings",onClick:()=>{this.$refs.AppSettings.open()}},currentTime:new Date,tasks:[],dependencies:[],resources:[],resourceAssignments:[],holidays:[],ganttRef:M}},computed:{gantt:function(){return this.$refs[M].instance},holidayYYYYMMDD:function(){const e=[];return this.holidays.forEach((t=>{e.push(this.getYYYYMMDD(new Date(t)))})),e}},methods:{...(0,x.nv)(["loadSettingsAction"]),formatDate:i.p6,async fetch(){const e=await S.fetch();({tasks:this.tasks,dependencies:this.dependencies,resources:this.resources,resourceAssignments:this.resourceAssignments,holidays:this.holidays}=e.data)},onInitialized(e){console.log("onInitialized"),console.log(e.values)},async onResourceUnassigned(e){console.log("onResourceUnassigned"),await S.deleteResourceAssignments(e.key),(0,l.Z)("Resource Unassigned.")},async onTaskInserting(e){console.log("onTaskInserting"),console.log(e),e.values.term=this.getTerm(e.values),console.log(e.values.term)},async onTaskInserted(e){console.log("onTaskInserted"),e.values.parentId=e.values.parentId||0,S.addTask(e.key,e.values),(0,l.Z)("task inserted.")},onTaskEditDialogShowing(e){console.log("onTaskEditDialogShowing"),console.log(e),e.readOnlyFields.push("term")},async onTaskUpdating(e){console.log("onTaskUpdating");const t=Object.assign(e.values,e.newValues);t.term=this.getTerm(e.values),e.values=t,console.log(e.values),await S.updateTask(e.values)},async onTaskUpdated(e){console.log("onTaskUpdated"),console.log(e);const t=this.tasks.findIndex((t=>t.id==e.key));-1!==t&&(Object.assign(this.tasks[t],e.values),this.tasks[t].term=this.getTerm(this.tasks[t]),console.log("object assigned"),console.log(this.tasks[t])),(0,l.Z)("task updated.")},async onTaskDeleted(e){console.log("onTaskDeleted"),await S.deleteTask(e.key),(0,l.Z)("task deleted.")},async onDependencyInserted(e){console.log("onDependencyInserted"),await S.addDependeny(e.key,e.values),(0,l.Z)("dependency inserted.")},async onResourceInserted(e){console.log("onResourceInserted"),console.log(e),console.log(e.values),await S.addResource(e.key,e.values),(0,l.Z)("resource inserted.")},async onResourceAssigned(e){console.log("onResourceAssigned"),console.log(e),console.log(e.values),await S.onResourceAssigned(e.key,e.values),(0,l.Z)("resource updated.")},async onDependencyDeleted(e){console.log("onDependencyDeleted"),console.log(e),await S.deleteDependency(e.key),(0,l.Z)("dependency deleted.")},async onResourceDeleted(e){console.log("onResourceDeleted"),await S.deleteResource(e.key)},getYYYYMMDD(e){const t=e.getFullYear(),n=(1+e.getMonth()).toString().padStart(2,"0"),o=e.getDate().toString().padStart(2,"0");let s="";return s="YYYY-MM-DD",s=s.replace(/YYYY/g,t),s=s.replace(/MM/g,n),s=s.replace(/DD/g,o),s},onContentReady(e){console.log("onContentReady"),console.log(e),this.gantt.scrollToDate(new Date)},getTerm(e){console.log("getTerm");const t=0,n=6,o=this.getYYYYMMDD(new Date(e.start)),s=this.getYYYYMMDD(new Date(e.end)),a=[];let r=o;while(r<s){const e=new Date(r).getDay();e!==t&&e!==n&&-1==this.holidayYYYYMMDD.indexOf(r)&&a.push(r);const o=new Date(r);o.setDate(o.getDate()+1),r=this.getYYYYMMDD(o)}return console.log(a.length),a.length}},async beforeCreate(){console.log("beforeCreated"),await this.$store.dispatch("loadSettingsAction"),await this.fetch(),console.log(this.tasks)}};const j=(0,O.Z)(_,[["render",a]]);var P=j;const V={settings:{apiUrl:"",authToken:"",scaleTypeRange:""}},N={saveSettingsMutation(e,{settings:t}){console.log("saveSettingsMutation"),e.settings={...t};const{apiUrl:n,authToken:o}=e.settings;S.setUrl(n),S.setAuthToken(o),localStorage.setItem("settings",JSON.stringify(t))},loadSettingsMutation(e){console.log("loadSettingsMutation");const t=JSON.parse(localStorage.getItem("settings"));t&&(e.settings=Object.assign(e.settings,t));const{apiUrl:n,authToken:o}=e.settings;S.setUrl(n),S.setAuthToken(o)}},L={saveSettingsAction({commit:e},{settings:t}){console.log("saveSettingsAction"),e("saveSettingsMutation",{settings:t})},loadSettingsAction({commit:e}){console.log("loadSettingsAction"),e("loadSettingsMutation")}},Z=(0,x.MT)({state:V,mutations:N,actions:L});var z=Z;async function F(){const e=await n.e(461).then(n.t.bind(n,5933,23));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}F(),(0,o.ri)(P).use(z).mount("#app")}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,o,s,a){if(!o){var r=1/0;for(c=0;c<e.length;c++){o=e[c][0],s=e[c][1],a=e[c][2];for(var l=!0,i=0;i<o.length;i++)(!1&a||r>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[i])}))?o.splice(i--,1):(l=!1,a<r&&(r=a));if(l){e.splice(c--,1);var d=s();void 0!==d&&(t=d)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,s,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(o,s){if(1&s&&(o=this(o)),8&s)return o;if("object"===typeof o&&o){if(4&s&&o.__esModule)return o;if(16&s&&"function"===typeof o.then)return o}var a=Object.create(null);n.r(a);var r={};e=e||[null,t({}),t([]),t(t)];for(var l=2&s&&o;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((function(e){r[e]=function(){return o[e]}}));return r["default"]=function(){return o},n.d(a,r),a}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/webfontloader.js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="devext:";n.l=function(o,s,a,r){if(e[o])e[o].push(s);else{var l,i;if(void 0!==a)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+a){l=u;break}}l||(i=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",t+a),l.src=o),e[o]=[s];var g=function(t,n){l.onerror=l.onload=null,clearTimeout(p);var s=e[o];if(delete e[o],l.parentNode&&l.parentNode.removeChild(l),s&&s.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(g.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=g.bind(null,l.onerror),l.onload=g.bind(null,l.onload),i&&document.head.appendChild(l)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/vue-gantt/"}(),function(){var e={143:0};n.f.j=function(t,o){var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)o.push(s[2]);else{var a=new Promise((function(n,o){s=e[t]=[n,o]}));o.push(s[2]=a);var r=n.p+n.u(t),l=new Error,i=function(o){if(n.o(e,t)&&(s=e[t],0!==s&&(e[t]=void 0),s)){var a=o&&("load"===o.type?"missing":o.type),r=o&&o.target&&o.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",l.name="ChunkLoadError",l.type=a,l.request=r,s[1](l)}};n.l(r,i,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,a,r=o[0],l=o[1],i=o[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(s in l)n.o(l,s)&&(n.m[s]=l[s]);if(i)var c=i(n)}for(t&&t(o);d<r.length;d++)a=r[d],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},o=self["webpackChunkdevext"]=self["webpackChunkdevext"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(9631)}));o=n.O(o)})();